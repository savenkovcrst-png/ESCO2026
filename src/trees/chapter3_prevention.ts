import type { DecisionTree } from "../decision/decisionTree";

export const chapter3_tree: DecisionTree = {
  id: "ch3",
  title: "Глава 3 — Предупреждение аварий: профилактика по видам",
  startNodeId: "q_prevent_area",
  nodes: {
    q_prevent_area: {
      id: "q_prevent_area",
      type: "question",
      title: "Что хотите предотвратить/контролировать?",
      input: "select",
      options: [
        { value: "3_1", label: "3.1 Аварии с элементами бурильной колонны" },
        { value: "3_2", label: "3.2 Прихваты бурильных колонн" },
        { value: "3_3", label: "3.3 Аварии при креплении скважин" },
        { value: "3_4", label: "3.4 Аварии с забойными двигателями" },
        { value: "3_5", label: "3.5 Аварии с долотами" },
        { value: "3_6", label: "3.6 Попадание посторонних предметов" },
        { value: "3_7", label: "3.7 Прочие аварии" },
      ],
      edges: [
        { when: { eq: "3_1" }, to: "r_3_1" },
        { when: { eq: "3_2" }, to: "r_3_2" },
        { when: { eq: "3_3" }, to: "r_3_3" },
        { when: { eq: "3_4" }, to: "r_3_4" },
        { when: { eq: "3_5" }, to: "r_3_5" },
        { when: { eq: "3_6" }, to: "r_3_6" },
        { when: { eq: "3_7" }, to: "r_3_7" },
      ],
    },

    r_3_1: {
      id: "r_3_1",
      type: "result",
      severity: "medium",
      title: "3.1 Профилактика аварий с бурильной колонной (чек‑лист)",
      actions: [
        "Контроль состояния бурильных труб и соединений, своевременная выбраковка.",
        "Надёжное крепление замковых соединений и соблюдение режимов СПО.",
        "Технический надзор за оборудованием, исправность тормозов/элеваторов/клиньев.",
        "Ведение учёта наработки бурильных труб и элементов компоновки.",
      ],
      references: [{ chapter: "Гл.3", section: "3.1" }],
    },

    r_3_2: {
      id: "r_3_2",
      type: "result",
      severity: "high",
      title: "3.2 Профилактика прихватов (чек‑лист)",
      actions: [
        "Контролировать свойства бурового раствора и режимы промывки; избегать условий дифприхвата.",
        "Снижать риск желобов/сужений: контроль траектории, калибровка, очистка ствола.",
        "Не допускать длительных остановок с колонной без движения в проблемных интервалах.",
        "При первых признаках затяжек — немедленно действовать, чтобы не усугубить ситуацию.",
      ],
      references: [{ chapter: "Гл.3", section: "3.2" }],
    },

    r_3_3: {
      id: "r_3_3",
      type: "result",
      severity: "medium",
      title: "3.3 Профилактика аварий при креплении (чек‑лист)",
      actions: [
        "Качественная подготовка скважины перед спуском обсадной.",
        "План спуска обсадной и контроль долива/скорости спуска.",
        "Предотвращать резкие посадки на ротор, соблюдать расчётные данные.",
        "Контроль резьбовых соединений и состояния спускового инструмента.",
      ],
      references: [{ chapter: "Гл.3", section: "3.3" }],
    },

    r_3_4: {
      id: "r_3_4",
      type: "result",
      severity: "medium",
      title: "3.4 Профилактика аварий с забойными двигателями (чек‑лист)",
      actions: [
        "Проверка двигателей до спуска, контроль работы по параметрам.",
        "Соблюдение режимов, недопущение перегрузок и работы в нештатных условиях.",
        "Плановая профилактика и корректная сборка компоновки.",
      ],
      references: [{ chapter: "Гл.3", section: "3.4" }],
    },

    r_3_5: {
      id: "r_3_5",
      type: "result",
      severity: "medium",
      title: "3.5 Профилактика аварий с долотами (чек‑лист)",
      actions: [
        "Подбор долота под породы и режимы; контроль износа.",
        "Не допускать разрушения долота перегрузкой/вибрациями.",
        "При подозрении на разрушение — немедленно оценить и переходить к диагностике.",
      ],
      references: [{ chapter: "Гл.3", section: "3.5" }],
    },

    r_3_6: {
      id: "r_3_6",
      type: "result",
      severity: "high",
      title: "3.6 Профилактика падения посторонних предметов (чек‑лист)",
      actions: [
        "Организация рабочего места: исключить незакреплённые предметы над устьем.",
        "Контроль инструмента, крепёжных элементов, закрытие проёмов/ловушек.",
        "Режим допусков и ответственность при работах на высоте.",
      ],
      references: [{ chapter: "Гл.3", section: "3.6" }],
    },

    r_3_7: {
      id: "r_3_7",
      type: "result",
      severity: "low",
      title: "3.7 Прочие аварии — универсальная профилактика",
      actions: [
        "Соблюдать проекты и технологические инструкции, дисциплину работ.",
        "Постоянное обучение бригад, разбор аварий и корректировка профилактических карт.",
        "Ежемесячно проверять выполнение профилактических мероприятий на буровой.",
      ],
      references: [{ chapter: "Гл.3", section: "3.7" }],
    },
  },
};
